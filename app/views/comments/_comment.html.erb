<div class="bg-white border rounded p-3 mb-2">
  <p><%= comment.body %></p>

  <div data-controller="reply">

    <div class="mt-2">
      <%=link_to "Reply", "#",
                 data: {
                   action: "click->reply#toggle",
                   reply_target: "button",
                   comment_id: comment.id
                 },
                 class: "text-sm text-blue-600 border rounded p-1 mb-2"
      %>
    </div>

    <div id="reply-form-<%= comment.id %>" class="mt-2 hidden">
      <%= render "comments/form", post: comment.post, comment: Comment.new(parent_id: comment.id) %>
    </div>

  </div>
  <% if comment.replies.any? %>
    <div class="mt-3 pl-4 border-l">
      <%= render comment.replies %>
    </div>
  <% end %>
</div>