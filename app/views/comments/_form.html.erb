<%= turbo_frame_tag "new_comment_#{comment.parent_id || 'root'}" do %>
  <%= form_with(model: [post, comment], data: { turbo_frame: "comments"}) do |form| %>
    <%= form.hidden_field :parent_id %>
    <div class="mb-2">
      <%= form.text_area :body, rows: 2, class: "w-full border rounded" %>
    </div>
    <% if comment.parent_id? %>
      <%= form.submit "Reply", class: "bg-gray-600 text-white px-4 py-2 mb-2 rounded-lg" %>
    <% else %>
      <%= form.submit "Add comment", class: "bg-blue-600 text-white px-4 py-2 mb-2 rounded-lg" %>
    <% end %>

  <% end %>
<% end %>